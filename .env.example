# Production Configuration for AI Research Assistant
# Copy this file to .env for production deployment

# ==================== APPLICATION SETTINGS ====================
FLASK_ENV=production
FLASK_DEBUG=False
SECRET_KEY=your-secret-key-here-change-in-production

# ==================== SERVER SETTINGS ====================
HOST=0.0.0.0
PORT=5000
WORKERS=4
THREADS=2

# ==================== SECURITY SETTINGS ====================
# Enable security headers
ENABLE_CORS=True
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# Session security
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# CSRF Protection
WTF_CSRF_ENABLED=True
WTF_CSRF_TIME_LIMIT=None

# ==================== DATABASE SETTINGS ====================
DATABASE_PATH=research_assistant.db
DATABASE_POOL_SIZE=10
DATABASE_TIMEOUT=30

# ==================== OLLAMA SETTINGS ====================
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=llama3.2:latest
OLLAMA_TIMEOUT=180
OLLAMA_NUM_PREDICT=2048

# ==================== RAG SETTINGS ====================
# Embedding model
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_DEVICE=cpu

# ChromaDB
CHROMA_PERSIST_DIR=processed/chroma_db
CHROMA_COLLECTION_NAME=research_papers

# Retrieval parameters
RAG_TOP_K_RESULTS=15
RAG_SIMILARITY_THRESHOLD=0.35
RAG_MAX_CONTEXT_LENGTH=4000

# ==================== STORAGE SETTINGS ====================
DATA_DIR=data
PROCESSED_DIR=processed
MAX_UPLOAD_SIZE=100  # MB
ALLOWED_EXTENSIONS=pdf

# ==================== LOGGING SETTINGS ====================
LOG_LEVEL=INFO
LOG_FILE=logs/research_assistant.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5
ENABLE_PERFORMANCE_LOGGING=True

# ==================== RATE LIMITING ====================
RATELIMIT_ENABLED=True
RATELIMIT_DEFAULT=100 per hour
RATELIMIT_STORAGE_URL=memory://

# ==================== CACHING ====================
CACHE_TYPE=simple
CACHE_DEFAULT_TIMEOUT=300

# ==================== MONITORING ====================
ENABLE_METRICS=True
METRICS_PORT=9090

# ==================== ARXIV SCRAPER ====================
ARXIV_MAX_RESULTS=20
ARXIV_RATE_LIMIT_DELAY=3.0
PDF_DOWNLOAD_TIMEOUT=60
PDF_MAX_RETRIES=3

# ==================== PERFORMANCE ====================
# Background job settings
MAX_CONCURRENT_JOBS=2
JOB_TIMEOUT=3600  # 1 hour

# Compilation settings
PAGE_LIMIT=30
WORD_LIMIT=20000
CHUNK_SIZE_WORDS=500

# ==================== FEATURE FLAGS ====================
ENABLE_KNOWLEDGE_GRAPH=True
ENABLE_GRAPH_VISUALIZATION=True
ENABLE_CITATIONS=True
ENABLE_QUERY_EXPANSION=True
ENABLE_RERANKING=True
